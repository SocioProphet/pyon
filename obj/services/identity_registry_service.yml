# Identity Registry Service interface definition

# TODO remove this
obj:
  UserInfo:
    name: ""
    roles: ""
    subjects: ""
    email: ""
    phone: ""
    variables:
    - name: ""
      value: ""
---

name: identity_registry
dependencies: [datastore]
methods:
  create_user:
    in:
      user_info: !UserInfo

    out:
      id: ""

  update_user:
    in:
      user_info: !UserInfo

    out:

  remove_user:
    in:
      name: ""
      email: ""

    out:

  find_user_by_id:
    in:
      id: ""

    out:
      user_info: !UserInfo

  find_user_by_name:
    in:
      name: ""

    out:
      user_info: !UserInfo

  find_user_by_subject:
    in:
      subject: ""

    out:
      user_info: !UserInfo

  add_cilogon_subject_to_user:
    in:
      name: ""
      subject: ""

    out:
      status: True

  update_cilogon_subject_for_user:
    in:
      name: ""
      old_subject: ""
      new_subject: ""

    out:
      status: True

  remove_cilogon_subject_from_user:
    in:
      name: ""
      subject: ""

    out:
      status: True

  get_user_roles:
    in:
      name: ""

    out:
      roles: []

  set_user_role:
    in:
      name: ""
      role: ""

    out:
      status: True

  unset_user_role:
    in:
      name: ""
      role: ""

    out:
      status: True